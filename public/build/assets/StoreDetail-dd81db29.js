import{M as y}from"./MainLayout-bd841810.js";import{P as S}from"./PageHolder-97d9f299.js";import{u as h,G as b,o as n,c as w,w as p,a as s,b as x,m as _,v as i,C as c,O as A,e as r,i as f,t as l,F as v,g as u}from"./app-c6628d1b.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";const P={name:"StoreDetail",props:["store","stocks"],components:{MainLayout:y,PageHolder:S},data(){return{links:[{name:"Home",isActive:!1},{name:"Stores",isActive:!0},{name:this.store.name,isActive:!0}],isEdit:!1,form:h({name:this.store.name,phone:this.store.phone,address:this.store.address,image:this.store.image,id:this.store.id}),available_units:null,allocateStockForm:h({stock_id:null,store_id:this.store.id,number_cases:null,number_items_unit:""})}},methods:{submit(){this.form.post(`/admin/stores/${this.form.id}`,{preserveScroll:!0,onSuccess:()=>{this.isEdit=!1,this.form.reset("name","phone","address","image","id"),document.getElementById("cancel").click()}})},submitAllocate(){this.allocateStockForm.post(`/admin/stores/${this.allocateStockForm.store_id}/allocate`,{preserveScroll:!0,onSuccess:()=>{this.isEdit=!1,this.form.reset(),document.getElementById("cancelStock").click()}})},selectProduct(){const m=this.allocateStockForm.stock_id,e=this.stocks.find(a=>a.id==m);this.allocateStockForm.number_cases=e.number_cases,this.available_units=e.number_items_unit}}},C={class:"content"},U={id:"add-store",class:"modal fade",tabindex:"-1",role:"dialog","aria-hidden":"true"},V={class:"modal-dialog modal-lg"},E={class:"modal-content"},M=s("div",{class:"modal-header"},[s("h4",{class:"modal-title",id:"standard-modalLabel"},"Create Store"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-hidden":"true"})],-1),N={class:"modal-body"},q={class:"mb-3"},B=s("label",{for:"name",class:"form-label"},"Name",-1),L={class:"mb-3"},D=s("label",{for:"phone",class:"form-label"},"Phone Number",-1),j={class:"mb-3"},H=s("label",{for:"address",class:"form-label"},"Address",-1),I={class:"mb-3"},O=s("label",{for:"address",class:"form-label"},"Image",-1),T=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-light",id:"cancel","data-bs-dismiss":"modal"},"Close"),s("button",{type:"submit",class:"btn btn-primary"},"Save changes")],-1),G={id:"add-stock",class:"modal fade",tabindex:"-1",role:"dialog","aria-hidden":"true"},K={class:"modal-dialog modal-lg"},z={class:"modal-content"},J=s("div",{class:"modal-header"},[s("h4",{class:"modal-title",id:"standard-modalLabel"},"Allocate Stock"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-hidden":"true"})],-1),Q={class:"modal-body"},R={class:"mb-3"},W=s("label",{for:"name",class:"form-label"},"Product",-1),X=s("option",{selected:""},"Open this select product",-1),Y=["value"],Z={class:"mb-3"},$=s("label",{for:"phone",class:"form-label"},"Availablr units",-1),ss={class:"mb-3"},ts=s("label",{for:"phone",class:"form-label"},"Number Of Units",-1),es=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-light",id:"cancelStock","data-bs-dismiss":"modal"},"Close"),s("button",{type:"submit",class:"btn btn-primary"},"Save changes")],-1),os={class:"row"},ls={class:"col-xxl-12 col-lg-6"},as={class:"card d-block"},ds={class:"card-body"},is={class:"d-flex justify-content-between align-items-center mb-2"},ns={class:""},cs=s("div",{class:"dropdown"},[s("a",{href:"#",class:"dropdown-toggle arrow-none card-drop","data-bs-toggle":"dropdown","aria-expanded":"false"},[s("i",{class:"ri-more-fill"})]),s("div",{class:"dropdown-menu dropdown-menu-end"},[s("a",{href:"#","data-bs-toggle":"modal","data-bs-target":"#add-store",class:"dropdown-item"},[s("i",{class:"mdi mdi-pencil me-1"}),u("Edit")]),s("a",{href:"javascript:void(0);",class:"dropdown-item"},[s("i",{class:"mdi mdi-delete me-1"}),u("Delete")]),s("a",{href:"#","data-bs-toggle":"modal","data-bs-target":"#add-stock",class:"dropdown-item"},[s("i",{class:"mdi mdi-email-outline me-1"}),u("Allocate Stock")])])],-1),rs=s("div",{class:"badge bg-secondary text-light mb-3"},"Open",-1),ms={class:"text-muted mb-2"},_s=["src"],us={class:"row"},hs={class:"col-md-4"},bs={class:"mb-4"},ps=s("h5",null,"Phone",-1),fs={class:"col-md-4"},vs={class:"mb-4"},gs=s("h5",null,"Address",-1),ks={class:"col-md-4"},ys={class:"mb-4"},Ss=s("h5",null,"Stock Allocated Units",-1),ws={class:"card"},xs={class:"card-body"},As=s("h4",{class:"mt-0 mb-3"},"Stock (258)",-1),Fs={class:"table-responsive"},Ps={class:"table table-centered w-100 dt-responsive nowrap",id:"products-datatable"},Cs=s("thead",{class:"table-light"},[s("tr",null,[s("th",{class:"all"},"Product"),s("th",null,"Category"),s("th",null,"Supplier"),s("th",null,"Unit Price"),s("th",null,"Allocated Units"),s("th",null,"Key Factor"),s("th",{style:{width:"85px"}},"Action")])],-1),Us=["src"],Vs={class:"m-0 d-inline-block align-middle font-16"},Es={href:"#",class:"text-body"},Ms=s("br",null,null,-1),Ns={class:"badge bg-success"},qs={class:"table-action"},Bs=["onClick"],Ls=s("i",{class:"mdi mdi-square-edit-outline"},null,-1),Ds=[Ls],js=s("a",{href:"javascript:void(0);",class:"action-icon"},[s("i",{class:"mdi mdi-delete"})],-1);function Hs(m,e,a,Is,o,d){const g=b("PageHolder"),k=b("MainLayout");return n(),w(k,null,{default:p(()=>[s("div",C,[x(g,{title:"Stores",links:o.links},{default:p(()=>[s("div",U,[s("div",V,[s("div",E,[M,s("div",N,[s("form",{onSubmit:e[4]||(e[4]=_((...t)=>d.submit&&d.submit(...t),["prevent"])),class:"ps-3 pe-3"},[s("div",q,[B,i(s("input",{class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>o.form.name=t),type:"text",id:"emailaddress1",required:"",placeholder:"Shop 1"},null,512),[[c,o.form.name]])]),s("div",L,[D,i(s("input",{class:"form-control",type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.form.phone=t),required:"",id:"password1",placeholder:"Phone Number"},null,512),[[c,o.form.phone]])]),s("div",j,[H,i(s("textarea",{class:"form-control","onUpdate:modelValue":e[2]||(e[2]=t=>o.form.address=t),id:"example-textarea",rows:"5"},null,512),[[c,o.form.address]])]),s("div",I,[O,s("input",{class:"form-control",onInput:e[3]||(e[3]=t=>o.form.image=t.target.files[0]),type:"file",required:"",id:"password1"},null,32)]),T],32)])])])]),s("div",G,[s("div",K,[s("div",z,[J,s("div",Q,[s("form",{onSubmit:e[9]||(e[9]=_((...t)=>d.submitAllocate&&d.submitAllocate(...t),["prevent"])),class:"ps-3 pe-3"},[s("div",R,[W,i(s("select",{class:"form-select mb-3","onUpdate:modelValue":e[5]||(e[5]=t=>o.allocateStockForm.stock_id=t),onChange:e[6]||(e[6]=(...t)=>d.selectProduct&&d.selectProduct(...t))},[X,(n(!0),r(v,null,f(a.stocks,t=>(n(),r("option",{value:t.id},l(t.name),9,Y))),256))],544),[[A,o.allocateStockForm.stock_id]])]),s("div",Z,[$,i(s("input",{class:"form-control",type:"text","onUpdate:modelValue":e[7]||(e[7]=t=>o.available_units=t),disabled:"",required:"",id:"password1"},null,512),[[c,o.available_units]])]),s("div",ss,[ts,i(s("input",{class:"form-control",type:"text","onUpdate:modelValue":e[8]||(e[8]=t=>o.allocateStockForm.number_items_unit=t),required:"",id:"password1"},null,512),[[c,o.allocateStockForm.number_items_unit]])]),es],32)])])])]),s("div",os,[s("div",ls,[s("div",as,[s("div",ds,[s("div",is,[s("h3",ns,l(a.store.name),1),cs]),rs,s("p",ms,[s("img",{class:"card-img-top",src:`/images/${a.store.image}`,alt:"project image cap"},null,8,_s)]),s("div",us,[s("div",hs,[s("div",bs,[ps,s("p",null,l(a.store.phone),1)])]),s("div",fs,[s("div",vs,[gs,s("p",null,l(a.store.address),1)])]),s("div",ks,[s("div",ys,[Ss,s("p",null,l(a.store.stock_allocations.length),1)])])])])]),s("div",ws,[s("div",xs,[As,s("div",Fs,[s("table",Ps,[Cs,s("tbody",null,[(n(!0),r(v,null,f(a.store.stock_allocations,t=>(n(),r("tr",null,[s("td",null,[s("img",{src:`/images/${t.stock.image}`,alt:"contact-img",title:"contact-img",class:"rounded me-3",height:"48"},null,8,Us),s("p",Vs,[s("a",Es,l(t.name),1),Ms])]),s("td",null,l(t.stock.category.name),1),s("td",null,l(t.stock.supplier.name),1),s("td",null," $"+l(t.stock.unit_price),1),s("td",null,l(t.number_items_unit),1),s("td",null,[s("span",Ns,l(t.stock.key_factor),1)]),s("td",qs,[s("a",{onClick:_(Os=>m.edit(t),["prevent"]),href:"#","data-bs-toggle":"modal","data-bs-target":"#add-store",class:"action-icon"},Ds,8,Bs),js])]))),256))])])])])])])])]),_:1},8,["links"])])]),_:1})}const Js=F(P,[["render",Hs]]);export{Js as default};
